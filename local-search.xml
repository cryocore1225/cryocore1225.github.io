<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>字符和字符串</title>
    <link href="/java/cheng-xu-ji-chu/fca4c6bf.html"/>
    <url>/java/cheng-xu-ji-chu/fca4c6bf.html</url>
    
    <content type="html"><![CDATA[<h1 id="字符与字符串"><a href="#字符与字符串" class="headerlink" title="字符与字符串"></a><strong>字符与字符串</strong></h1><h2 id="1-字符类型（char）"><a href="#1-字符类型（char）" class="headerlink" title="1. 字符类型（char）"></a><strong>1. 字符类型（char）</strong></h2><p><code>char</code> 是 Java 的 <strong>基本数据类型</strong>，用于表示单个字符，占 <strong>2 字节</strong>（16 bit），采用 Unicode 编码。</p><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">char</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;A&#x27;</span>;<br><span class="hljs-type">char</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;中&#x27;</span>;<br></code></pre></td></tr></table></figure><p>Unicode 编码可通过将 <code>char</code> 赋值给 <code>int</code> 查看：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;A&#x27;</span>; <span class="hljs-comment">// 字母“A”的Unicodde编码是65</span><br><span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;中&#x27;</span>; <span class="hljs-comment">// 汉字“中”的Unicode编码是20013</span><br></code></pre></td></tr></table></figure><h3 id="1-1-使用-Unicode-转义表示字符"><a href="#1-1-使用-Unicode-转义表示字符" class="headerlink" title="1.1 使用 Unicode 转义表示字符"></a><strong>1.1 使用 Unicode 转义表示字符</strong></h3><p>格式：<code>&#39;\uXXXX&#39;</code>（十六进制）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 注意是十六进制:</span><br><span class="hljs-type">char</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;\u0041&#x27;</span>; <span class="hljs-comment">// &#x27;A&#x27;，因为十六进制0041 = 十进制65</span><br><span class="hljs-type">char</span> <span class="hljs-variable">c4</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;\u4e2d&#x27;</span>; <span class="hljs-comment">// &#x27;中&#x27;，因为十六进制4e2d = 十进制20013</span><br></code></pre></td></tr></table></figure><hr><h2 id="2-字符串类型（String）"><a href="#2-字符串类型（String）" class="headerlink" title="2. 字符串类型（String）"></a><strong>2. 字符串类型（String）</strong></h2><p>与 <code>char</code> 不同，<code>String</code> 是 <strong>引用类型</strong>。字符串使用双引号 <code>&quot;...&quot;</code> 包裹，可包含 0 个或多个字符。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;A&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ABC&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;中文 ABC&quot;</span>;<br></code></pre></td></tr></table></figure><hr><h2 id="3-转义字符"><a href="#3-转义字符" class="headerlink" title="3. 转义字符"></a><strong>3. 转义字符</strong></h2><p>因为字符串使用双引号<code>&quot;...&quot;</code>表示开始和结束，那如果字符串本身恰好包含一个<code>&quot;</code>字符怎么表示？例如，<code>&quot;abc&quot;xyz&quot;</code>，编译器就无法判断中间的引号究竟是字符串的一部分还是表示字符串结束。这个时候，我们需要借助转义字符<code>\</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abc\&quot;xyz&quot;</span>; <span class="hljs-comment">// 包含7个字符: a, b, c, &quot;, x, y, z</span><br></code></pre></td></tr></table></figure><p>因为<code>\</code>是转义字符，所以，两个<code>\\</code>表示一个<code>\</code>字符：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abc\\xyz&quot;</span>; <span class="hljs-comment">// 包含7个字符: a, b, c, \, x, y, z</span><br></code></pre></td></tr></table></figure><h3 id="常见转义字符"><a href="#常见转义字符" class="headerlink" title="常见转义字符"></a><strong>常见转义字符</strong></h3><table><thead><tr><th>写法</th><th>含义</th></tr></thead><tbody><tr><td><code>\&quot;</code></td><td>双引号</td></tr><tr><td><code>\&#39;</code></td><td>单引号</td></tr><tr><td><code>\\</code></td><td>反斜杠</td></tr><tr><td><code>\n</code></td><td>换行</td></tr><tr><td><code>\r</code></td><td>回车</td></tr><tr><td><code>\t</code></td><td>Tab</td></tr><tr><td><code>\u####</code></td><td>Unicode 字符</td></tr></tbody></table><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ABC\n\u4e2d\u6587&quot;</span>; <span class="hljs-comment">// 包含6个字符: A, B, C, 换行符, 中, 文</span><br></code></pre></td></tr></table></figure><hr><h2 id="4-字符串连接（-）"><a href="#4-字符串连接（-）" class="headerlink" title="4. 字符串连接（+）"></a><strong>4. 字符串连接（+）</strong></h2><p>Java 的 <code>+</code> 对字符串做了特殊处理，允许直接连接：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 字符串连接</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;world&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> s1 + <span class="hljs-string">&quot; &quot;</span> + s2 + <span class="hljs-string">&quot;!&quot;</span>;<br>        System.out.println(s); <span class="hljs-comment">// Hello world!</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>若连接非字符串，会自动转为字符串：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 字符串连接</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">25</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;age is &quot;</span> + age;<br>        System.out.println(s); <span class="hljs-comment">// age is 25</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="5-多行字符串（Text-Blocks，Java-13-）"><a href="#5-多行字符串（Text-Blocks，Java-13-）" class="headerlink" title="5. 多行字符串（Text Blocks，Java 13+）"></a><strong>5. 多行字符串（Text Blocks，Java 13+）</strong></h2><p>使用 <code>&quot;&quot;&quot; ... &quot;&quot;&quot;</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 多行字符串</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">                   SELECT * FROM</span><br><span class="hljs-string">                     users</span><br><span class="hljs-string">                   WHERE id &gt; 100</span><br><span class="hljs-string">                   ORDER BY name DESC</span><br><span class="hljs-string">                   &quot;&quot;&quot;</span>;<br>        System.out.println(s);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>上述多行字符串实际上是5行，在最后一个<code>DESC</code>后面还有一个<code>\n</code>。如果我们不想在字符串末尾加一个<code>\n</code>，就需要这么写：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;&quot; </span><br><span class="hljs-string">           SELECT * FROM</span><br><span class="hljs-string">             users</span><br><span class="hljs-string">           WHERE id &gt; 100</span><br><span class="hljs-string">           ORDER BY name DESC&quot;&quot;&quot;</span>;<br></code></pre></td></tr></table></figure><p>还需要注意到，多行字符串前面共同的空格会被去掉，即：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">...........SELECT * FROM</span><br><span class="hljs-string">...........  users</span><br><span class="hljs-string">...........WHERE id &gt; 100</span><br><span class="hljs-string">...........ORDER BY name DESC</span><br><span class="hljs-string">...........&quot;&quot;&quot;</span>;<br></code></pre></td></tr></table></figure><p>用<code>.</code>标注的空格都会被去掉。</p><p>如果多行字符串的排版不规则，那么，去掉的空格就会变成这样：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">.........  SELECT * FROM</span><br><span class="hljs-string">.........    users</span><br><span class="hljs-string">.........WHERE id &gt; 100</span><br><span class="hljs-string">.........  ORDER BY name DESC</span><br><span class="hljs-string">.........  &quot;&quot;&quot;</span>;<br></code></pre></td></tr></table></figure><p>即总是以最短的行首空格为基准。</p><p>特点：</p><ul><li>前后多余缩进会去掉</li><li>默认包含末尾换行，如果不要，在结尾加 <code>&quot;&quot;&quot;</code> 前不留空格</li></ul><hr><h2 id="6-字符串的不可变性（Immutable）"><a href="#6-字符串的不可变性（Immutable）" class="headerlink" title="6. 字符串的不可变性（Immutable）"></a><strong>6. 字符串的不可变性（Immutable）</strong></h2><p>字符串内容创建后不可修改。</p><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 字符串不可变</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>        System.out.println(s); <span class="hljs-comment">// 显示 hello</span><br>        s = <span class="hljs-string">&quot;world&quot;</span>;<br>        System.out.println(s); <span class="hljs-comment">// 显示 world</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>解释：</p><ul><li><code>&quot;hello&quot;</code> 未变</li><li>新创建 <code>&quot;world&quot;</code>，变量 <code>s</code> 重新指向它</li><li>原 <code>&quot;hello&quot;</code> 依然存在，只是变量不再引用它</li></ul><p>引用指向示例：</p><h3 id="初始："><a href="#初始：" class="headerlink" title="初始："></a>初始：</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">s</span> → <span class="hljs-string">&quot;hello&quot;</span><br></code></pre></td></tr></table></figure><h3 id="修改后："><a href="#修改后：" class="headerlink" title="修改后："></a>修改后：</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">s</span> → <span class="hljs-string">&quot;world&quot;</span><br><span class="hljs-string">&quot;hello&quot;</span> 依旧存在<br></code></pre></td></tr></table></figure><p>观察执行结果，难道字符串<code>s</code>变了吗？其实变的不是字符串，而是变量<code>s</code>的“指向”。</p><p>执行<code>String s = &quot;hello&quot;;</code>时，JVM虚拟机先创建字符串<code>&quot;hello&quot;</code>，然后，把字符串变量<code>s</code>指向它：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nginx">      <span class="hljs-attribute">s</span><br>      │<br>      ▼<br>┌───┬───────────┬───┐<br>│   │  <span class="hljs-string">&quot;hello&quot;</span>  │   │<br>└───┴───────────┴───┘<br></code></pre></td></tr></table></figure><p>紧接着，执行<code>s = &quot;world&quot;;</code>时，JVM虚拟机先创建字符串<code>&quot;world&quot;</code>，然后，把字符串变量<code>s</code>指向它：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nginx">      <span class="hljs-attribute">s</span> ──────────────┐<br>                      │<br>                      ▼<br>┌───┬───────────┬───┬───────────┬───┐<br>│   │  <span class="hljs-string">&quot;hello&quot;</span>  │   │  <span class="hljs-string">&quot;world&quot;</span>  │   │<br>└───┴───────────┴───┴───────────┴───┘<br></code></pre></td></tr></table></figure><p>原来的字符串<code>&quot;hello&quot;</code>还在，只是我们无法通过变量<code>s</code>访问它而已。因此，字符串的不可变是指字符串内容不可变。至于变量，可以一会指向字符串<code>&quot;hello&quot;</code>，一会指向字符串<code>&quot;world&quot;</code>。</p><p>考察引用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 字符串不可变</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> s;<br>        s = <span class="hljs-string">&quot;world&quot;</span>;<br>        System.out.println(t); <span class="hljs-comment">// t是&quot;hello&quot;还是&quot;world&quot;?</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>t</code> 仍然指向 <code>&quot;hello&quot;</code>。</p><hr><h2 id="7-空值-null"><a href="#7-空值-null" class="headerlink" title="7. 空值 null"></a><strong>7. 空值 null</strong></h2><p>引用类型变量可指向 <code>null</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// s1是null</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> s1; <span class="hljs-comment">// s2也是null</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>; <span class="hljs-comment">// s3指向空字符串，不是null</span><br></code></pre></td></tr></table></figure><h3 id="区分："><a href="#区分：" class="headerlink" title="区分："></a><strong>区分：</strong></h3><table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td><code>null</code></td><td>不指向任何对象</td></tr><tr><td><code>&quot;&quot;</code></td><td>空字符串，是一个长度为 0 的对象</td></tr></tbody></table><hr><h2 id="8-练习：将-Unicode-数字拼成字符串"><a href="#8-练习：将-Unicode-数字拼成字符串" class="headerlink" title="8. 练习：将 Unicode 数字拼成字符串"></a><strong>8. 练习：将 Unicode 数字拼成字符串</strong></h2><p>题目：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 请将下面一组int值视为字符的Unicode码，把它们拼成一个字符串：</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">72</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">105</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-number">65281</span>;<br>        <span class="hljs-comment">// <span class="hljs-doctag">FIXME:</span></span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> a + b + c;<br>        System.out.println(s);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>正确答案（将 int 转为 char 再拼接）：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span> + (<span class="hljs-type">char</span>) a + (<span class="hljs-type">char</span>) b + (<span class="hljs-type">char</span>) c;<br>System.out.println(s);  <span class="hljs-comment">// Hi！</span><br></code></pre></td></tr></table></figure><hr><h2 id="9-小结"><a href="#9-小结" class="headerlink" title="9. 小结"></a><strong>9. 小结</strong></h2><ul><li><code>char</code> 是基本类型，表示一个 Unicode 字符，占 2 字节。</li><li><code>String</code> 是引用类型，用于表示字符串。</li><li>引用类型变量可以为 <code>null</code>，但空字符串 <code>&quot;&quot;</code> 不是 <code>null</code>。</li><li>字符串不可变：字符串内容不可修改，但变量可以改变指向。</li><li>可用转义字符表示特殊字符。</li><li>字符串支持 <code>+</code> 连接，也可使用 Java 13+ 的文本块。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>程序基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>浮点数运算</title>
    <link href="/java/cheng-xu-ji-chu/f4bcb891.html"/>
    <url>/java/cheng-xu-ji-chu/f4bcb891.html</url>
    
    <content type="html"><![CDATA[<h1 id="浮点数运算"><a href="#浮点数运算" class="headerlink" title="浮点数运算"></a>浮点数运算</h1><h2 id="1-浮点数四则运算"><a href="#1-浮点数四则运算" class="headerlink" title="1. 浮点数四则运算"></a><strong>1. 浮点数四则运算</strong></h2><p>Java 的浮点数（<code>float</code>、<code>double</code>）可以进行加、减、乘、除运算，但 <strong>不能进行位运算或移位运算</strong>。</p><p>⚠ <strong>浮点数无法保证精确表示。</strong><br> 例如，0.1 在二进制中是无限循环小数，因此浮点数中只能保存一个近似值；但 0.5 可以被精确表示。</p><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 浮点数运算误差</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span> / <span class="hljs-number">10</span>;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span> - <span class="hljs-number">9.0</span> / <span class="hljs-number">10</span>;<br>        <span class="hljs-comment">// 观察x和y是否相等:</span><br>        System.out.println(x);<br>        System.out.println(y);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>由于浮点数存在运算误差，所以比较两个浮点数是否相等常常会出现错误的结果。正确的比较方法是判断两个浮点数之差的绝对值是否小于一个很小的数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 比较x和y是否相等，先计算其差的绝对值:</span><br><span class="hljs-type">double</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> Math.abs(x - y);<br><span class="hljs-comment">// 再判断绝对值是否足够小:</span><br><span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">0.00001</span>) &#123;<br>    <span class="hljs-comment">// 可以认为相等</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">// 不相等</span><br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="2-类型提升（Type-Promotion）"><a href="#2-类型提升（Type-Promotion）" class="headerlink" title="2. 类型提升（Type Promotion）"></a><strong>2. 类型提升（Type Promotion）</strong></h2><p>当浮点数与整数共同参与运算时，整数会自动提升为浮点数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 类型提升</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> + <span class="hljs-number">24.0</span> / n; <span class="hljs-comment">// 6.0</span><br>        System.out.println(d);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>⚠ <strong>需要特别注意，在一个复杂的四则运算中，两个整数的运算不会出现自动提升的情况。例如：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">double</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> + <span class="hljs-number">24</span> / <span class="hljs-number">5</span>; <span class="hljs-comment">// 结果不是 6.0 而是 5.2</span><br></code></pre></td></tr></table></figure><p>计算结果为<code>5.2</code>，原因是编译器计算<code>24 / 5</code>这个子表达式时，按两个整数进行运算，结果仍为整数<code>4</code>。</p><p>要修复这个计算结果，可以将<code>24 / 5</code>改为<code>24.0 / 5</code>。由于<code>24.0</code>是浮点数，因此，计算除法时自动将<code>5</code>提升为浮点数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">double</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span> + <span class="hljs-number">24.0</span> / <span class="hljs-number">5</span>; <span class="hljs-comment">// 6.0</span><br></code></pre></td></tr></table></figure><hr><h2 id="3-浮点数的特殊值（溢出表现）"><a href="#3-浮点数的特殊值（溢出表现）" class="headerlink" title="3. 浮点数的特殊值（溢出表现）"></a><strong>3. 浮点数的特殊值（溢出表现）</strong></h2><p>整数运算在除数为<code>0</code>时会报错，而浮点数运算在除数为<code>0</code>时，不会报错，但会返回几个特殊值：</p><ul><li><code>NaN</code>表示Not a Number</li><li><code>Infinity</code>表示无穷大</li><li><code>-Infinity</code>表示负无穷大</li></ul><table><thead><tr><th>表示</th><th>含义</th></tr></thead><tbody><tr><td><code>NaN</code></td><td>Not a Number</td></tr><tr><td><code>Infinity</code></td><td>正无穷大</td></tr><tr><td><code>-Infinity</code></td><td>负无穷大</td></tr></tbody></table><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">double</span> <span class="hljs-variable">d1</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.0</span> / <span class="hljs-number">0</span>;  <span class="hljs-comment">// NaN</span><br><span class="hljs-type">double</span> <span class="hljs-variable">d2</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span> / <span class="hljs-number">0</span>;  <span class="hljs-comment">// Infinity</span><br><span class="hljs-type">double</span> <span class="hljs-variable">d3</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1.0</span> / <span class="hljs-number">0</span>; <span class="hljs-comment">// -Infinity</span><br></code></pre></td></tr></table></figure><p>这三种特殊值在实际运算中很少碰到，只需要了解即可。</p><hr><h2 id="4-强制转型（Cast）"><a href="#4-强制转型（Cast）" class="headerlink" title="4. 强制转型（Cast）"></a><strong>4. 强制转型（Cast）</strong></h2><p>浮点数 → 整数时会直接舍弃小数部分：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) <span class="hljs-number">12.3</span>;   <span class="hljs-comment">// 12</span><br><span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) <span class="hljs-number">12.7</span>;   <span class="hljs-comment">// 12</span><br><span class="hljs-type">int</span> <span class="hljs-variable">n3</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) -<span class="hljs-number">12.7</span>;  <span class="hljs-comment">// -12</span><br></code></pre></td></tr></table></figure><p>超过整数范围时返回最大（或最小）整数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) <span class="hljs-number">1.2e20</span>; <span class="hljs-comment">// 2147483647</span><br></code></pre></td></tr></table></figure><h3 id="四舍五入：浮点数-0-5-后取整"><a href="#四舍五入：浮点数-0-5-后取整" class="headerlink" title="四舍五入：浮点数 + 0.5 后取整"></a><strong>四舍五入：浮点数 + 0.5 后取整</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">double</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-number">2.6</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) (d + <span class="hljs-number">0.5</span>); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><hr><h2 id="5-练习：求一元二次方程的根"><a href="#5-练习：求一元二次方程的根" class="headerlink" title="5. 练习：求一元二次方程的根"></a><strong>5. 练习：求一元二次方程的根</strong></h2><p>公式：<br>$$<br>x &#x3D; \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}<br>$$<br>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 一元二次方程</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.0</span>;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> -<span class="hljs-number">4.0</span>;<br>        <span class="hljs-comment">// 求平方根可用 Math.sqrt():</span><br>        <span class="hljs-comment">// System.out.println(Math.sqrt(2)); ==&gt; 1.414</span><br>        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span></span><br>        <span class="hljs-type">double</span> <span class="hljs-variable">r1</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">r2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        System.out.println(r1);<br>        System.out.println(r2);<br>        System.out.println(r1 == <span class="hljs-number">1</span> &amp;&amp; r2 == -<span class="hljs-number">4</span> ? <span class="hljs-string">&quot;测试通过&quot;</span> : <span class="hljs-string">&quot;测试失败&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="6-小结"><a href="#6-小结" class="headerlink" title="6. 小结"></a><strong>6. 小结</strong></h2><ul><li>浮点数 <strong>不能精确表示多数小数</strong>（如 0.1），会产生误差。</li><li>浮点数比较需判断差值是否小于某个阈值。</li><li>整数和浮点数一起运算时，整数会自动提升为浮点数。</li><li>整数之间的表达式运算不会自动变为浮点运算，可能导致计算结果错误。</li><li>强制转型会直接截断小数部分。</li><li>浮点数除以 0 不会报错，而是产生 <code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code>。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>程序基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>布尔运算</title>
    <link href="/java/cheng-xu-ji-chu/d9cb6954.html"/>
    <url>/java/cheng-xu-ji-chu/d9cb6954.html</url>
    
    <content type="html"><![CDATA[<h1 id="布尔运算"><a href="#布尔运算" class="headerlink" title="布尔运算"></a>布尔运算</h1><h2 id="1-布尔类型基础"><a href="#1-布尔类型基础" class="headerlink" title="1. 布尔类型基础"></a><strong>1. 布尔类型基础</strong></h2><p>Java 的布尔类型只有两个值：</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-literal">true</span><br><span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>布尔运算是一类 <strong>关系运算（relational operations）</strong>，主要用于逻辑判断与条件控制。</p><hr><h2 id="2-比较运算符（Comparison-Operators）"><a href="#2-比较运算符（Comparison-Operators）" class="headerlink" title="2. 比较运算符（Comparison Operators）"></a><strong>2. 比较运算符（Comparison Operators）</strong></h2><p>比较运算符用于比较数值，返回 <code>boolean</code> 类型：</p><table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td><code>&gt;</code></td><td>大于</td></tr><tr><td><code>&gt;=</code></td><td>大于等于</td></tr><tr><td><code>&lt;</code></td><td>小于</td></tr><tr><td><code>&lt;=</code></td><td>小于等于</td></tr><tr><td><code>==</code></td><td>等于</td></tr><tr><td><code>!=</code></td><td>不等于</td></tr></tbody></table><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">boolean</span> <span class="hljs-variable">isGreater</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>; <span class="hljs-comment">// true</span><br><span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br><span class="hljs-type">boolean</span> <span class="hljs-variable">isZero</span> <span class="hljs-operator">=</span> age == <span class="hljs-number">0</span>; <span class="hljs-comment">// false</span><br><span class="hljs-type">boolean</span> <span class="hljs-variable">isNonZero</span> <span class="hljs-operator">=</span> !isZero; <span class="hljs-comment">// true</span><br><span class="hljs-type">boolean</span> <span class="hljs-variable">isAdult</span> <span class="hljs-operator">=</span> age &gt;= <span class="hljs-number">18</span>; <span class="hljs-comment">// false</span><br><span class="hljs-type">boolean</span> <span class="hljs-variable">isTeenager</span> <span class="hljs-operator">=</span> age &gt; <span class="hljs-number">6</span> &amp;&amp; age &lt; <span class="hljs-number">18</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><hr><h2 id="3-逻辑运算符（Logical-Operators）"><a href="#3-逻辑运算符（Logical-Operators）" class="headerlink" title="3. 逻辑运算符（Logical Operators）"></a><strong>3. 逻辑运算符（Logical Operators）</strong></h2><table><thead><tr><th>运算符</th><th>名称</th><th>说明</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td>与 AND</td><td>两者都为 true 才为 true</td></tr><tr><td>&#96;</td><td></td><td>&#96;</td></tr><tr><td><code>!</code></td><td>非 NOT</td><td>true 变 false，false 变 true</td></tr></tbody></table><hr><h2 id="4-运算优先级（从高到低）"><a href="#4-运算优先级（从高到低）" class="headerlink" title="4. 运算优先级（从高到低）"></a><strong>4. 运算优先级（从高到低）</strong></h2><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">!<br>&gt; &gt;= &lt; &lt;=<br><span class="hljs-section">== !=</span><br>&amp;&amp;<br>||<br></code></pre></td></tr></table></figure><p>✦ 优先级不易记忆时，使用括号即可避免歧义。</p><hr><h2 id="5-短路运算（Short-circuit-Evaluation）"><a href="#5-短路运算（Short-circuit-Evaluation）" class="headerlink" title="5. 短路运算（Short-circuit Evaluation）"></a><strong>5. 短路运算（Short-circuit Evaluation）</strong></h2><p>逻辑运算符 <code>&amp;&amp;</code> 和 <code>||</code> 都是 <strong>短路运算符</strong>。</p><h3 id="5-1-AND（-）的短路特性"><a href="#5-1-AND（-）的短路特性" class="headerlink" title="5.1 AND（&amp;&amp;）的短路特性"></a><strong>5.1 AND（&amp;&amp;）的短路特性</strong></h3><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gml"><span class="hljs-symbol">false</span> &amp;&amp; <span class="hljs-variable language_">x</span>  → 永远为 <span class="hljs-symbol">false</span><br></code></pre></td></tr></table></figure><p>因此，当左边为 <code>false</code> 时，右边不会继续计算。</p><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 短路运算</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span> &lt; <span class="hljs-number">3</span>;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> b &amp;&amp; (<span class="hljs-number">5</span> / <span class="hljs-number">0</span> &gt; <span class="hljs-number">0</span>); <span class="hljs-comment">// 此处 5 / 0 不会报错</span><br>        System.out.println(result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>如果没有短路运算，<code>&amp;&amp;</code>后面的表达式会由于除数为<code>0</code>而报错，但实际上该语句并未报错，原因在于与运算是短路运算符，提前计算出了结果<code>false</code>。</p><p>如果变量<code>b</code>的值为<code>true</code>，则表达式变为<code>true &amp;&amp; (5 / 0 &gt; 0)</code>。因为无法进行短路运算，该表达式必定会由于除数为<code>0</code>而报错，可以自行测试。</p><p>类似的，对于<code>||</code>运算，只要能确定第一个值为<code>true</code>，后续计算也不再进行，而是直接返回<code>true</code>：</p><hr><h3 id="5-2-OR（-）的短路特性"><a href="#5-2-OR（-）的短路特性" class="headerlink" title="5.2 OR（||）的短路特性"></a><strong>5.2 OR（||）的短路特性</strong></h3><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gml"><span class="hljs-symbol">true</span> || <span class="hljs-variable language_">x</span> → 永远为 <span class="hljs-symbol">true</span><br></code></pre></td></tr></table></figure><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span> || (<span class="hljs-number">5</span> / <span class="hljs-number">0</span> &gt; <span class="hljs-number">0</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>右侧不会计算，因此不会报错。</p><hr><h2 id="6-三元运算符（b-x-y）"><a href="#6-三元运算符（b-x-y）" class="headerlink" title="6. 三元运算符（b ? x : y）"></a><strong>6. 三元运算符（b ? x : y）</strong></h2><p>语法：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">condition ? value_<span class="hljs-keyword">if</span>_<span class="hljs-literal">true</span> : value_<span class="hljs-keyword">if</span>_<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 三元运算</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> -<span class="hljs-number">100</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> n &gt;= <span class="hljs-number">0</span> ? n : -n;<br>        System.out.println(x);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>上述语句的意思是，判断<code>n &gt;= 0</code>是否成立，如果为<code>true</code>，则返回<code>n</code>，否则返回<code>-n</code>。这实际上是一个求绝对值的表达式。</p><p>注意到三元运算<code>b ? x : y</code>会首先计算<code>b</code>，如果<code>b</code>为<code>true</code>，则只计算<code>x</code>，否则，只计算<code>y</code>。此外，<code>x</code>和<code>y</code>的类型必须相同，因为返回值不是<code>boolean</code>，而是<code>x</code>和<code>y</code>之一。</p><p>要点：</p><ul><li>先计算 <code>b</code>（条件表达式）</li><li>若 <code>b</code> 为 true，则只计算 x</li><li>若 <code>b</code> 为 false，则只计算 y</li><li>x 和 y 必须是 <strong>相同类型</strong></li></ul><hr><h2 id="7-练习：判断是否是小学生（年龄：6～12-岁）"><a href="#7-练习：判断是否是小学生（年龄：6～12-岁）" class="headerlink" title="7. 练习：判断是否是小学生（年龄：6～12 岁）"></a><strong>7. 练习：判断是否是小学生（年龄：6～12 岁）</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 布尔运算</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;<br>        <span class="hljs-comment">// primary student的定义: 6~12岁</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isPrimaryStudent</span> <span class="hljs-operator">=</span> ???;<br>        System.out.println(isPrimaryStudent ? <span class="hljs-string">&quot;Yes&quot;</span> : <span class="hljs-string">&quot;No&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="8-小结"><a href="#8-小结" class="headerlink" title="8. 小结"></a><strong>8. 小结</strong></h2><ul><li>布尔运算包含比较运算、逻辑运算和三元运算。</li><li><code>&amp;&amp;</code> 和 <code>||</code> 都是 <strong>短路运算符</strong>，可能会阻止后续表达式执行。</li><li>三元运算符也是“短路运算”，只会计算其中一个表达式。</li><li>三元运算中 <code>x</code> 和 <code>y</code> 的类型必须一致。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>程序基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>数组类型</title>
    <link href="/java/cheng-xu-ji-chu/854d7208.html"/>
    <url>/java/cheng-xu-ji-chu/854d7208.html</url>
    
    <content type="html"><![CDATA[<h1 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h1><h2 id="1-什么是数组？"><a href="#1-什么是数组？" class="headerlink" title="1. 什么是数组？"></a><strong>1. 什么是数组？</strong></h2><p>数组（Array）是 <strong>一组相同类型的数据的集合</strong>。如果我们有一组类型相同的变量，例如，5位同学的成绩，可以这么写：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 5位同学的成绩:</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-number">68</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-number">79</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n3</span> <span class="hljs-operator">=</span> <span class="hljs-number">91</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n4</span> <span class="hljs-operator">=</span> <span class="hljs-number">85</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n5</span> <span class="hljs-operator">=</span> <span class="hljs-number">62</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>但其实没有必要定义5个<code>int</code>变量。可以使用数组来表示“一组”<code>int</code>类型。代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 数组</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 5位同学的成绩:</span><br>        <span class="hljs-type">int</span>[] ns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">5</span>];<br>        ns[<span class="hljs-number">0</span>] = <span class="hljs-number">68</span>;<br>        ns[<span class="hljs-number">1</span>] = <span class="hljs-number">79</span>;<br>        ns[<span class="hljs-number">2</span>] = <span class="hljs-number">91</span>;<br>        ns[<span class="hljs-number">3</span>] = <span class="hljs-number">85</span>;<br>        ns[<span class="hljs-number">4</span>] = <span class="hljs-number">62</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h1 id="2-数组的定义与创建"><a href="#2-数组的定义与创建" class="headerlink" title="2. 数组的定义与创建"></a><strong>2. 数组的定义与创建</strong></h1><p>数组类型写法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">类型<span class="hljs-selector-attr">[]</span> 变量名<br></code></pre></td></tr></table></figure><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] ns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">5</span>]; <span class="hljs-comment">// 创建一个可容纳 5 个 int 的数组</span><br></code></pre></td></tr></table></figure><h3 id="数组的重要特性"><a href="#数组的重要特性" class="headerlink" title="数组的重要特性"></a><strong>数组的重要特性</strong></h3><ol><li><strong>数组元素自动初始化为默认值：</strong><ul><li>int → 0</li><li>double → 0.0</li><li>boolean → false</li><li>引用类型 → null</li></ul></li><li><strong>数组长度固定，一旦创建不可改变</strong></li><li><strong>数组是引用类型</strong></li></ol><hr><h1 id="3-访问数组元素（索引）"><a href="#3-访问数组元素（索引）" class="headerlink" title="3. 访问数组元素（索引）"></a><strong>3. 访问数组元素（索引）</strong></h1><p>数组索引从 <strong>0 开始</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">ns[<span class="hljs-number">0</span>] = <span class="hljs-number">68</span>;<br>ns[<span class="hljs-number">1</span>] = <span class="hljs-number">79</span>;<br></code></pre></td></tr></table></figure><p>读取元素：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> ns[<span class="hljs-number">2</span>];<br></code></pre></td></tr></table></figure><p>数组长度：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ns.length; <span class="hljs-comment">// 5</span><br></code></pre></td></tr></table></figure><p>索引越界会报错：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ns[<span class="hljs-number">5</span>]; <span class="hljs-comment">// 数组长度为 5，索引只能是 0~4</span><br></code></pre></td></tr></table></figure><hr><h1 id="4-数组的初始化方式"><a href="#4-数组的初始化方式" class="headerlink" title="4. 数组的初始化方式"></a><strong>4. 数组的初始化方式</strong></h1><h2 id="方式-1：先创建，再赋值"><a href="#方式-1：先创建，再赋值" class="headerlink" title="方式 1：先创建，再赋值"></a><strong>方式 1：先创建，再赋值</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] ns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">5</span>];<br>ns[<span class="hljs-number">0</span>] = <span class="hljs-number">68</span>;<br>...<br></code></pre></td></tr></table></figure><h2 id="方式-2：直接给初始值（编译器自动决定长度）"><a href="#方式-2：直接给初始值（编译器自动决定长度）" class="headerlink" title="方式 2：直接给初始值（编译器自动决定长度）"></a><strong>方式 2：直接给初始值（编译器自动决定长度）</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] ns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[] &#123; <span class="hljs-number">68</span>, <span class="hljs-number">79</span>, <span class="hljs-number">91</span>, <span class="hljs-number">85</span>, <span class="hljs-number">62</span> &#125;;<br></code></pre></td></tr></table></figure><p> 还可以进一步简写为：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] ns = &#123; <span class="hljs-number">68</span>, <span class="hljs-number">79</span>, <span class="hljs-number">91</span>, <span class="hljs-number">85</span>, <span class="hljs-number">62</span> &#125;;<br></code></pre></td></tr></table></figure><hr><h1 id="5-数组是引用类型"><a href="#5-数组是引用类型" class="headerlink" title="5. 数组是引用类型"></a><strong>5. 数组是引用类型</strong></h1><p>数组变量保存的不是内容，而是 <strong>指向数组对象的引用</strong>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] ns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[] &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> &#125;;<br>ns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[] &#123; <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;<br></code></pre></td></tr></table></figure><p>此时：</p><ul><li>新数组 <code>{4, 5}</code> 创建</li><li>ns 改为指向新数组</li><li>原数组 <code>{1,2,3}</code> 仍存在，但 ns 不再引用它</li></ul><p>数组内容本身 <strong>没有变</strong>，变的是变量 <strong>ns 的指向</strong>。</p><p>对于数组<code>ns</code>来说，执行<code>ns = new int[] { 1,2,3 };</code>时，它指向一个3个元素的数组：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nginx">     <span class="hljs-attribute">ns</span><br>      │<br>      ▼<br>┌───┬───┬───┬───┬───┬───┬<br>│   │<span class="hljs-number">1</span>  │<span class="hljs-number">2</span>  │<span class="hljs-number">3</span>  │   │   │<br>└───┴───┴───┴───┴───┴───┴<br></code></pre></td></tr></table></figure><p>执行<code>ns = new int[] { 4,5 };</code>时，它指向一个<em>新的</em>3个元素的数组：</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs tap">     ns ──────────────────────┐<br>                              │<br>                              ▼<br>┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬<br>│   │1  │2  │3  │   │   │<span class="hljs-number"> 4 </span>│<span class="hljs-number"> 5 </span>│   │   │<br>└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴<br></code></pre></td></tr></table></figure><p>但是，原有的3个元素的数组并没有改变，只是无法通过变量<code>ns</code>引用到它们而已。</p><hr><h1 id="6-引用类型元素的数组"><a href="#6-引用类型元素的数组" class="headerlink" title="6. 引用类型元素的数组"></a><strong>6. 引用类型元素的数组</strong></h1><p>如果数组元素不是基本类型，而是一个引用类型，那么，修改数组元素会有哪些不同？</p><p>字符串是引用类型，因此我们先定义一个字符串数组：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-type">String</span>[] names = &#123;<span class="hljs-string">&quot;ABC&quot;</span>, <span class="hljs-string">&quot;XYZ&quot;</span>, <span class="hljs-string">&quot;zoo&quot;</span>&#125;;<br></code></pre></td></tr></table></figure><p>对于<code>String[]</code>类型的数组变量<code>names</code>，它实际上包含3个元素，但每个元素都指向某个字符串对象：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs 1c">          ┌─────────────────────────┐<br>    names │   ┌─────────────────────┼───────────┐<br>      │   │   │                     │           │<br>      ▼   │   │                     ▼           ▼<br>┌───┬───┬─┴─┬─┴─┬───┬───────┬───┬───────┬───┬───────┬───┐<br>│   │░░░│░░░│░░░│   │ <span class="hljs-string">&quot;ABC&quot;</span> │   │ <span class="hljs-string">&quot;XYZ&quot;</span> │   │ <span class="hljs-string">&quot;zoo&quot;</span> │   │<br>└───┴─┬─┴───┴───┴───┴───────┴───┴───────┴───┴───────┴───┘<br>      │                 ▲<br>      └─────────────────┘<br></code></pre></td></tr></table></figure><p>对<code>names[1]</code>进行赋值，例如<code>names[1] = &quot;cat&quot;;</code>，效果如下：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs 1c">          ┌─────────────────────────────────────────────────┐<br>    names │   ┌─────────────────────────────────┐           │<br>      │   │   │                                 │           │<br>      ▼   │   │                                 ▼           ▼<br>┌───┬───┬─┴─┬─┴─┬───┬───────┬───┬───────┬───┬───────┬───┬───────┬───┐<br>│   │░░░│░░░│░░░│   │ <span class="hljs-string">&quot;ABC&quot;</span> │   │ <span class="hljs-string">&quot;XYZ&quot;</span> │   │ <span class="hljs-string">&quot;zoo&quot;</span> │   │ <span class="hljs-string">&quot;cat&quot;</span> │   │<br>└───┴─┬─┴───┴───┴───┴───────┴───┴───────┴───┴───────┴───┴───────┴───┘<br>      │                 ▲<br>      └─────────────────┘<br></code></pre></td></tr></table></figure><p>这里注意到原来<code>names[1]</code>指向的字符串<code>&quot;XYZ&quot;</code>并没有改变，仅仅是将<code>names[1]</code>的引用从指向<code>&quot;XYZ&quot;</code>改成了指向<code>&quot;cat&quot;</code>，其结果是字符串<code>&quot;XYZ&quot;</code>再也无法通过<code>names[1]</code>访问到了。</p><hr><h1 id="7-思考题解析"><a href="#7-思考题解析" class="headerlink" title="7. 思考题解析"></a><strong>7. 思考题解析</strong></h1><p>对“指向”有了更深入的理解后，试解释如下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 数组</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        String[] names = &#123;<span class="hljs-string">&quot;ABC&quot;</span>, <span class="hljs-string">&quot;XYZ&quot;</span>, <span class="hljs-string">&quot;zoo&quot;</span>&#125;;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> names[<span class="hljs-number">1</span>];<br>        names[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;cat&quot;</span>;<br>        System.out.println(s); <span class="hljs-comment">// s是&quot;XYZ&quot;还是&quot;cat&quot;?</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>输出是什么？</p><h3 id="答案：XYZ"><a href="#答案：XYZ" class="headerlink" title="答案：XYZ"></a><strong>答案：XYZ</strong></h3><p>原因：</p><ul><li><code>s = names[1]</code> 时，s 指向 <code>&quot;XYZ&quot;</code></li><li>后来 <code>names[1] = &quot;cat&quot;</code><br> 只改变了 names[1] 的指向<br> 并没有改变 <code>&quot;XYZ&quot;</code> 本身</li><li>s 仍然指向 <code>&quot;XYZ&quot;</code></li></ul><hr><h1 id="8-小结"><a href="#8-小结" class="headerlink" title="8. 小结"></a><strong>8. 小结</strong></h1><ul><li>数组是一组相同类型的数据。</li><li>数组是<strong>引用类型</strong>，变量指向数组对象。</li><li>数组一旦创建长度固定。</li><li>访问数组要用索引（0 ~ length-1），越界会报错。</li><li>数组元素可以是基本类型，也可以是引用类型。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>程序基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>变量和数据类型</title>
    <link href="/java/cheng-xu-ji-chu/33466eb7.html"/>
    <url>/java/cheng-xu-ji-chu/33466eb7.html</url>
    
    <content type="html"><![CDATA[<h1 id="变量和数据类型"><a href="#变量和数据类型" class="headerlink" title="变量和数据类型"></a>变量和数据类型</h1><h2 id="1-变量（Variable）"><a href="#1-变量（Variable）" class="headerlink" title="1. 变量（Variable）"></a>1. 变量（Variable）</h2><h3 id="1-1-什么是变量？"><a href="#1-1-什么是变量？" class="headerlink" title="1.1 什么是变量？"></a>1.1 什么是变量？</h3><p>变量就像数学中的代数符号，比如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">y</span> = x^<span class="hljs-number">2</span> + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>Java 中变量分为两类：</p><ul><li><strong>基本类型变量</strong>（primitive type）</li><li><strong>引用类型变量</strong>（reference type）</li></ul><hr><h3 id="1-2-定义变量"><a href="#1-2-定义变量" class="headerlink" title="1.2 定义变量"></a>1.2 定义变量</h3><p>Java 变量必须 <strong>先定义再使用</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure><p>不写初始值时，会使用类型的 <strong>默认值（0）</strong>。</p><h4 id="示例：定义并打印变量"><a href="#示例：定义并打印变量" class="headerlink" title="示例：定义并打印变量"></a>示例：定义并打印变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>        System.out.println(x);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h3 id="1-3-变量可重新赋值"><a href="#1-3-变量可重新赋值" class="headerlink" title="1.3 变量可重新赋值"></a>1.3 变量可重新赋值</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>System.out.println(x); <span class="hljs-comment">// 100</span><br><br>x = <span class="hljs-number">200</span>;<br>System.out.println(x); <span class="hljs-comment">// 200</span><br></code></pre></td></tr></table></figure><p>注意：重新赋值时 <strong>不能重复写类型</strong>。</p><hr><h3 id="1-4-变量之间的赋值"><a href="#1-4-变量之间的赋值" class="headerlink" title="1.4 变量之间的赋值"></a>1.4 变量之间的赋值</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>n = <span class="hljs-number">200</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> n; <span class="hljs-comment">// x = 200</span><br>x = x + <span class="hljs-number">100</span>; <span class="hljs-comment">// x = 300</span><br></code></pre></td></tr></table></figure><p>重新赋值<strong>只改变变量对应的内存单元</strong>。</p><hr><h2 id="2-基本数据类型（Primitive-Types）"><a href="#2-基本数据类型（Primitive-Types）" class="headerlink" title="2. 基本数据类型（Primitive Types）"></a>2. 基本数据类型（Primitive Types）</h2><p>基本类型是 CPU 可以直接运算的数据类型。</p><p>Java 基本类型包括：</p><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>byte</td><td>整数</td></tr><tr><td>short</td><td>整数</td></tr><tr><td>int</td><td>整数</td></tr><tr><td>long</td><td>整数</td></tr><tr><td>float</td><td>浮点数</td></tr><tr><td>double</td><td>浮点数</td></tr><tr><td>boolean</td><td>布尔值</td></tr><tr><td>char</td><td>字符</td></tr></tbody></table><hr><h2 id="3-计算机内存基础"><a href="#3-计算机内存基础" class="headerlink" title="3. 计算机内存基础"></a>3. 计算机内存基础</h2><ul><li>最小单位：<strong>byte（字节）</strong> &#x3D; 8 bit（8位二进制数）</li><li>每个字节有一个 <strong>内存地址</strong></li><li>byte的二进制表示范围从<code>00000000</code><del><code>11111111</code>，换算成十进制是0</del>255，换算成十六进制是<code>00</code>~&#96;ff&#96;</li></ul><p>单位换算：</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span>KB = <span class="hljs-number">1024</span> B<br><span class="hljs-symbol">1 </span>MB = <span class="hljs-number">1024</span> KB<br><span class="hljs-symbol">1 </span>GB = <span class="hljs-number">1024</span> MB<br><span class="hljs-symbol">1 </span>TB = <span class="hljs-number">1024</span> GB<br></code></pre></td></tr></table></figure><p>例如 4TB 内存即 <strong>4398046511104 字节</strong>。</p><hr><h2 id="4-整型（Integer-Types）"><a href="#4-整型（Integer-Types）" class="headerlink" title="4. 整型（Integer Types）"></a>4. 整型（Integer Types）</h2><p>Java只定义了带符号的整型，因此，<code>最高位的</code>bit表示符号位（0表示正数，1表示负数）</p><table><thead><tr><th>类型</th><th>范围</th><th>占用</th></tr></thead><tbody><tr><td>byte</td><td>-128 ~ 127</td><td>1 byte</td></tr><tr><td>short</td><td>-32768 ~ 32767</td><td>2 bytes</td></tr><tr><td>int</td><td>-2147483648 ~ 2147483647</td><td>4 bytes</td></tr><tr><td>long</td><td>-2^63 ~ 2^63-1</td><td>8 bytes</td></tr></tbody></table><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 定义整型</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2147483647</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i2</span> <span class="hljs-operator">=</span> -<span class="hljs-number">2147483648</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i3</span> <span class="hljs-operator">=</span> <span class="hljs-number">2_000_000_000</span>; <span class="hljs-comment">// 加下划线更容易识别</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">i4</span> <span class="hljs-operator">=</span> <span class="hljs-number">0xff0000</span>; <span class="hljs-comment">// 十六进制表示的16711680</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">i5</span> <span class="hljs-operator">=</span> <span class="hljs-number">0b1000000000</span>; <span class="hljs-comment">// 二进制表示的512</span><br><br>        <span class="hljs-type">long</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-number">9000000000000000000L</span>; <span class="hljs-comment">// long型的结尾需要加L</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-number">900</span>; <span class="hljs-comment">// 没有加L，此处900为int，但int类型可以赋值给long</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">i6</span> <span class="hljs-operator">=</span> <span class="hljs-number">900L</span>; <span class="hljs-comment">// 错误：不能把long型赋值给int</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="5-浮点型（Floating-Point-Types）"><a href="#5-浮点型（Floating-Point-Types）" class="headerlink" title="5. 浮点型（Floating Point Types）"></a>5. 浮点型（Floating Point Types）</h2><p>浮点类型的数就是小数，因为小数用科学计数法表示的时候，小数点是可以“浮动”的，如1234.5可以表示成12.345x102，也可以表示成1.2345x103，所以称为浮点数</p><table><thead><tr><th>类型</th><th>范围</th><th>占用</th></tr></thead><tbody><tr><td>float</td><td>约 ±3.4×10^38</td><td>4 bytes</td></tr><tr><td>double</td><td>约 ±1.79×10^308</td><td>8 bytes</td></tr></tbody></table><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">float</span> <span class="hljs-variable">f1</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.14f</span>;<br><span class="hljs-type">float</span> <span class="hljs-variable">f2</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.14e38f</span>; <span class="hljs-comment">// 科学计数法表示的3.14x10^38</span><br><span class="hljs-type">float</span> <span class="hljs-variable">f3</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>; <span class="hljs-comment">// 错误：不带f结尾的是double类型，不能赋值给float</span><br><br><span class="hljs-type">double</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.79e308</span>;<br><span class="hljs-type">double</span> <span class="hljs-variable">d2</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1.79e308</span>;<br><span class="hljs-type">double</span> <span class="hljs-variable">d3</span> <span class="hljs-operator">=</span> <span class="hljs-number">4.9e-324</span>; <span class="hljs-comment">// 科学计数法表示的4.9x10^-324</span><br></code></pre></td></tr></table></figure><p>注意：<strong>float 必须加 f 后缀</strong>。</p><hr><h2 id="6-布尔类型（Boolean）"><a href="#6-布尔类型（Boolean）" class="headerlink" title="6. 布尔类型（Boolean）"></a>6. 布尔类型（Boolean）</h2><p>布尔类型<code>boolean</code>只有<code>true</code>和<code>false</code>两个值，布尔类型总是关系运算的计算结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">boolean</span> <span class="hljs-variable">b1</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><span class="hljs-type">boolean</span> <span class="hljs-variable">b2</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br><span class="hljs-type">boolean</span> <span class="hljs-variable">isGreater</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>; <span class="hljs-comment">// 计算结果为true</span><br><span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br><span class="hljs-type">boolean</span> <span class="hljs-variable">isAdult</span> <span class="hljs-operator">=</span> age &gt;= <span class="hljs-number">18</span>; <span class="hljs-comment">// 计算结果为false</span><br></code></pre></td></tr></table></figure><p>Java语言对布尔类型的存储并没有做规定，因为理论上存储布尔类型只需要1 bit，但是通常JVM内部会把<code>boolean</code>表示为4字节整数</p><hr><h2 id="7-字符类型（char）"><a href="#7-字符类型（char）" class="headerlink" title="7. 字符类型（char）"></a>7. 字符类型（char）</h2><p>可以表示：</p><ul><li>ASCII 字符</li><li>Unicode 字符</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 字符类型</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">char</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;A&#x27;</span>;<br>        <span class="hljs-type">char</span> <span class="hljs-variable">zh</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;中&#x27;</span>;<br>        System.out.println(a);<br>        System.out.println(zh);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>注意：</p><ul><li>使用 <strong>单引号</strong> <code>&#39;A&#39;</code></li><li>与字符串 <code>String</code> 使用的双引号不同</li></ul><hr><h2 id="8-引用类型（Reference-Types）"><a href="#8-引用类型（Reference-Types）" class="headerlink" title="8. 引用类型（Reference Types）"></a>8. 引用类型（Reference Types）</h2><p>除了上述基本类型的变量，剩下的都是引用类型。例如，引用类型最常用的就是<code>String</code>字符串：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br></code></pre></td></tr></table></figure><p>引用类型的变量类似于C语言的指针，它内部存储一个“<code>地址</code>”，指向某个对象在内存的位置</p><hr><h2 id="9-常量（final）"><a href="#9-常量（final）" class="headerlink" title="9. 常量（final）"></a>9. 常量（final）</h2><p>加 <code>final</code> 修饰后不可再赋值：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> <span class="hljs-type">double</span> <span class="hljs-variable">PI</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.14</span>; <span class="hljs-comment">// PI是一个常量</span><br><span class="hljs-type">double</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-number">5.0</span>;<br><span class="hljs-type">double</span> <span class="hljs-variable">area</span> <span class="hljs-operator">=</span> PI * r * r;<br>PI = <span class="hljs-number">300</span>; <span class="hljs-comment">// compile error!</span><br></code></pre></td></tr></table></figure><p>常量在定义时进行初始化后就不可再次赋值，再次赋值会导致编译错误。</p><p>常量的作用是用有意义的变量名来避免魔术数字（Magic number），例如，不要在代码中到处写<code>3.14</code>，而是定义一个常量。如果将来需要提高计算精度，我们只需要在常量的定义处修改，例如，改成<code>3.1416</code>，而不必在所有地方替换<code>3.14</code>。</p><p>为了和变量区分开来，根据习惯，常量名通常<strong>全部大写</strong>。</p><hr><h2 id="10-var-关键字（Java-10-）"><a href="#10-var-关键字（Java-10-）" class="headerlink" title="10. var 关键字（Java 10+）"></a>10. var 关键字（Java 10+）</h2><p>可省略变量类型，由编译器推断：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">var</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br></code></pre></td></tr></table></figure><p>相当于：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br></code></pre></td></tr></table></figure><p>只是更简写，<strong>不会改变类型本身</strong>。</p><hr><h2 id="11-变量的作用范围（Scope）"><a href="#11-变量的作用范围（Scope）" class="headerlink" title="11. 变量的作用范围（Scope）"></a>11. 变量的作用范围（Scope）</h2><p>在Java中，多行语句用<code>{ ... }</code>括起来。很多控制语句，例如条件判断和循环，都以<code>{ ... }</code>作为它们自身的范围，例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (...) &#123; <span class="hljs-comment">// if开始</span><br>    ...<br>    <span class="hljs-keyword">while</span> (...) &#123; <span class="hljs-comment">// while 开始</span><br>        ...<br>        <span class="hljs-keyword">if</span> (...) &#123; <span class="hljs-comment">// if开始</span><br>            ...<br>        &#125; <span class="hljs-comment">// if结束</span><br>        ...<br>    &#125; <span class="hljs-comment">// while结束</span><br>    ...<br>&#125; <span class="hljs-comment">// if结束</span><br></code></pre></td></tr></table></figure><p>只要正确地嵌套这些<code>{ ... }</code>，编译器就能识别出语句块的开始和结束。而在语句块中定义的变量，它有一个作用域，就是从定义处开始，到语句块结束。超出了作用域引用这些变量，编译器会报错。举个例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java">&#123;<br>    ...<br>    <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 变量i从这里开始定义</span><br>    ...<br>    &#123;<br>        ...<br>        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// 变量x从这里开始定义</span><br>        ...<br>        &#123;<br>            ...<br>            <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">// 变量s从这里开始定义</span><br>            ...<br>        &#125; <span class="hljs-comment">// 变量s作用域到此结束</span><br>        ...<br>        <span class="hljs-comment">// 注意，这是一个新的变量s，它和上面的变量同名，</span><br>        <span class="hljs-comment">// 但是因为作用域不同，它们是两个不同的变量:</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hi&quot;</span>;<br>        ...<br>    &#125; <span class="hljs-comment">// 变量x和s作用域到此结束</span><br>    ...<br>&#125; <span class="hljs-comment">// 变量i作用域到此结束</span><br></code></pre></td></tr></table></figure><p>推荐原则：</p><ul><li><strong>变量作用域越小越好</strong></li><li><strong>避免重复使用变量名</strong></li></ul><hr><h2 id="12-小结"><a href="#12-小结" class="headerlink" title="12. 小结"></a>12. 小结</h2><ul><li>Java 有两类变量：<strong>基本类型</strong> 与 <strong>引用类型</strong></li><li>基本类型包括：整数、浮点、布尔、字符</li><li><strong>变量可重复赋值</strong>，<code>=</code> 是赋值，不是等号</li><li><strong>常量（final）</strong> 初始化后不可改变</li><li><code>var</code> 可自动推断类型</li><li>变量作用域受 <code>{}</code> 控制，应尽可能缩小作用域</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>程序基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>整数运算</title>
    <link href="/java/cheng-xu-ji-chu/da9bad4d.html"/>
    <url>/java/cheng-xu-ji-chu/da9bad4d.html</url>
    
    <content type="html"><![CDATA[<h1 id="整数运算"><a href="#整数运算" class="headerlink" title="整数运算"></a>整数运算</h1><h2 id="1-整数四则运算"><a href="#1-整数四则运算" class="headerlink" title="1. 整数四则运算"></a>1. 整数四则运算</h2><p>Java 的整数运算遵循常规四则运算规则，并且可以使用任意层级的小括号。</p><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> (<span class="hljs-number">100</span> + <span class="hljs-number">200</span>) * (<span class="hljs-number">99</span> - <span class="hljs-number">88</span>); <span class="hljs-comment">// 3300</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span> * (<span class="hljs-number">5</span> + (i - <span class="hljs-number">9</span>));       <span class="hljs-comment">// 23072</span><br>        System.out.println(i);<br>        System.out.println(n);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>整数运算 <strong>永远精确</strong>，包括除法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">12345</span> / <span class="hljs-number">67</span>; <span class="hljs-comment">// 184，只保留整数部分</span><br></code></pre></td></tr></table></figure><p>求余使用 <code>%</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-number">12345</span> % <span class="hljs-number">67</span>; <span class="hljs-comment">// 17</span><br></code></pre></td></tr></table></figure><p>⚠ <strong>注意</strong>：当除数为 0 时，运行时会报错（ArithmeticException），但编译不会报错。</p><hr><h2 id="2-整数溢出（Overflow）"><a href="#2-整数溢出（Overflow）" class="headerlink" title="2. 整数溢出（Overflow）"></a>2. 整数溢出（Overflow）</h2><p>Java 的 <code>int</code> 和 <code>long</code> 都有范围限制。超过范围不会报错，而是溢出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">2147483640</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-number">15</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> x + y;<br>System.out.println(sum); <span class="hljs-comment">// -2147483641（溢出）</span><br></code></pre></td></tr></table></figure><p>原因：符号位被进位影响。</p><p>解决方式：使用范围更大的 <code>long</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">long</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">2147483640L</span>;<br><span class="hljs-type">long</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-number">15</span>;<br><span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> x + y; <span class="hljs-comment">// 2147483655</span><br></code></pre></td></tr></table></figure><hr><h2 id="3-复合赋值运算符"><a href="#3-复合赋值运算符" class="headerlink" title="3. 复合赋值运算符"></a>3. 复合赋值运算符</h2><p>等价写法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">n += <span class="hljs-number">100</span>; <span class="hljs-comment">// n = n + 100</span><br>n -= <span class="hljs-number">100</span>; <span class="hljs-comment">// n = n - 100</span><br>n *= <span class="hljs-number">2</span>;   <span class="hljs-comment">// n = n * 2</span><br>n /= <span class="hljs-number">4</span>;   <span class="hljs-comment">// n = n / 4</span><br></code></pre></td></tr></table></figure><hr><h2 id="4-自增-自减运算"><a href="#4-自增-自减运算" class="headerlink" title="4. 自增 &#x2F; 自减运算"></a>4. 自增 &#x2F; 自减运算</h2><p>Java 提供 <code>++</code> 和 <code>--</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">3300</span>;<br>n++; <span class="hljs-comment">// n = 3301</span><br>n--; <span class="hljs-comment">// n = 3300</span><br></code></pre></td></tr></table></figure><p>区别示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span> + (++n); <span class="hljs-comment">// 先n加1再参与运算</span><br><span class="hljs-type">int</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span> + (n++); <span class="hljs-comment">// 先参与运算再加1</span><br></code></pre></td></tr></table></figure><p>⚠ <strong>建议：不要将 ++ 或 – 混入复杂表达式中</strong>，容易出错。</p><hr><h2 id="5-移位运算（Shift-Operations）"><a href="#5-移位运算（Shift-Operations）" class="headerlink" title="5. 移位运算（Shift Operations）"></a>5. 移位运算（Shift Operations）</h2><p>整数以二进制存储，例如：</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">7 </span>= <span class="hljs-number">00000000</span> <span class="hljs-number">00000000</span> <span class="hljs-number">00000000</span> <span class="hljs-number">00000111</span><br></code></pre></td></tr></table></figure><h3 id="5-1-左移"><a href="#5-1-左移" class="headerlink" title="5.1 左移 &lt;&lt;（乘 2）"></a>5.1 左移 <code>&lt;&lt;</code>（乘 2）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;       <span class="hljs-comment">// 00000000 00000000 00000000 00000111 = 7</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> n &lt;&lt; <span class="hljs-number">1</span>;  <span class="hljs-comment">// 00000000 00000000 00000000 00001110 = 14</span><br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> n &lt;&lt; <span class="hljs-number">2</span>;  <span class="hljs-comment">// 00000000 00000000 00000000 00011100 = 28</span><br><span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> n &lt;&lt; <span class="hljs-number">28</span>; <span class="hljs-comment">// 01110000 00000000 00000000 00000000 = 1879048192</span><br><span class="hljs-type">int</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> n &lt;&lt; <span class="hljs-number">29</span>; <span class="hljs-comment">// 11100000 00000000 00000000 00000000 = -536870912</span><br></code></pre></td></tr></table></figure><h3 id="5-2-右移-（除-2，带符号）"><a href="#5-2-右移-（除-2，带符号）" class="headerlink" title="5.2 右移 &gt;&gt;（除 2，带符号）"></a>5.2 右移 <code>&gt;&gt;</code>（除 2，带符号）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;       <span class="hljs-comment">// 00000000 00000000 00000000 00000111 = 7</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">1</span>;  <span class="hljs-comment">// 00000000 00000000 00000000 00000011 = 3</span><br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">2</span>;  <span class="hljs-comment">// 00000000 00000000 00000000 00000001 = 1</span><br><span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">3</span>;  <span class="hljs-comment">// 00000000 00000000 00000000 00000000 = 0</span><br></code></pre></td></tr></table></figure><p>负数右移保持符号位：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> -<span class="hljs-number">536870912</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">1</span>;  <span class="hljs-comment">// 11110000 00000000 00000000 00000000 = -268435456</span><br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">2</span>;  <span class="hljs-comment">// 11111000 00000000 00000000 00000000 = -134217728</span><br><span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">28</span>; <span class="hljs-comment">// 11111111 11111111 11111111 11111110 = -2</span><br><span class="hljs-type">int</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> n &gt;&gt; <span class="hljs-number">29</span>; <span class="hljs-comment">// 11111111 11111111 11111111 11111111 = -1</span><br></code></pre></td></tr></table></figure><h3 id="5-3-无符号右移"><a href="#5-3-无符号右移" class="headerlink" title="5.3 无符号右移 &gt;&gt;&gt;"></a>5.3 无符号右移 <code>&gt;&gt;&gt;</code></h3><p>高位补 0，因此适合用于二进制处理：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> -<span class="hljs-number">536870912</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> n &gt;&gt;&gt; <span class="hljs-number">1</span>;  <span class="hljs-comment">// 01110000 00000000 00000000 00000000 = 1879048192</span><br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> n &gt;&gt;&gt; <span class="hljs-number">2</span>;  <span class="hljs-comment">// 00111000 00000000 00000000 00000000 = 939524096</span><br><span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> n &gt;&gt;&gt; <span class="hljs-number">29</span>; <span class="hljs-comment">// 00000000 00000000 00000000 00000111 = 7</span><br><span class="hljs-type">int</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> n &gt;&gt;&gt; <span class="hljs-number">31</span>; <span class="hljs-comment">// 00000000 00000000 00000000 00000001 = 1</span><br></code></pre></td></tr></table></figure><p>⚠ 对 <code>byte</code> 和 <code>short</code> 进行移位时，会 <strong>先转换成 int</strong> 再移位。</p><hr><h2 id="6-位运算（Bitwise-Operations）"><a href="#6-位运算（Bitwise-Operations）" class="headerlink" title="6. 位运算（Bitwise Operations）"></a>6. 位运算（Bitwise Operations）</h2><p>按位操作 0&#x2F;1。</p><table><thead><tr><th>运算符</th><th>名称</th><th>说明</th></tr></thead><tbody><tr><td><code>&amp;</code></td><td>与 AND</td><td>必须两个数同时为<code>1</code>，结果才为<code>1</code></td></tr><tr><td>&#96;</td><td>&#96;</td><td>或 OR</td></tr><tr><td><code>~</code></td><td>非 NOT</td><td>0 和 1 互换</td></tr><tr><td><code>^</code></td><td>异或 XOR</td><td>如果两个数不同，结果为<code>1</code>，否则为<code>0</code></td></tr></tbody></table><p>Java没有单个bit的数据类型。在Java中，对两个整数进行位运算，实际上就是按位对齐，然后依次对每一位进行运算。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 位运算</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">167776589</span>; <span class="hljs-comment">// 00001010 00000000 00010001 01001101</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">167776512</span>; <span class="hljs-comment">// 00001010 00000000 00010001 00000000</span><br>                         <span class="hljs-comment">// &amp; -----------------------------------</span><br>                           <span class="hljs-comment">// 00001010 00000000 00010001 00000000</span><br>        System.out.println(i &amp; n); <span class="hljs-comment">// 167776512</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>常用于判断 IP 是否属于某网段等系统编程场景。</p><hr><h2 id="7-运算优先级（从高到低）"><a href="#7-运算优先级（从高到低）" class="headerlink" title="7. 运算优先级（从高到低）"></a>7. 运算优先级（从高到低）</h2><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs diff">()<br><span class="hljs-addition">!  ~  ++  --</span><br>*  /  %<br><span class="hljs-addition">+  -</span><br>&lt;&lt; &gt;&gt; &gt;&gt;&gt;<br>&amp;<br>|<br><span class="hljs-addition">+= -= *= /=</span><br></code></pre></td></tr></table></figure><p>记不住也没关系 → <strong>只需要加括号就可以保证运算的优先级正确。</strong></p><hr><h2 id="8-类型自动提升与强制转型"><a href="#8-类型自动提升与强制转型" class="headerlink" title="8. 类型自动提升与强制转型"></a>8. 类型自动提升与强制转型</h2><h3 id="8-1-自动提升"><a href="#8-1-自动提升" class="headerlink" title="8.1 自动提升"></a>8.1 自动提升</h3><p>当不同类型参与运算时，结果会提升为“更大范围的类型”：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 类型自动提升与强制转型</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">short</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-number">1234</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">123456</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> s + i; <span class="hljs-comment">// s自动转型为int</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>以下写法会报错：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">short</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> s + i; <span class="hljs-comment">// 报错：不能从 int 转为 short</span><br></code></pre></td></tr></table></figure><h3 id="8-2-强制转型（可能损失数据）"><a href="#8-2-强制转型（可能损失数据）" class="headerlink" title="8.2 强制转型（可能损失数据）"></a>8.2 强制转型（可能损失数据）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">12345</span>;<br><span class="hljs-type">short</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> (<span class="hljs-type">short</span>) i; <span class="hljs-comment">// 正常</span><br></code></pre></td></tr></table></figure><p>要注意，超出范围的强制转型会得到错误的结果，原因是转型时，<code>int</code>的两个高位字节直接被扔掉，仅保留了低位的两个字节：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 强制转型</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i1</span> <span class="hljs-operator">=</span> <span class="hljs-number">1234567</span>;<br>        <span class="hljs-type">short</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> (<span class="hljs-type">short</span>) i1; <span class="hljs-comment">// -10617</span><br>        System.out.println(s1);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i2</span> <span class="hljs-operator">=</span> <span class="hljs-number">12345678</span>;<br>        <span class="hljs-type">short</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> (<span class="hljs-type">short</span>) i2; <span class="hljs-comment">// 24910</span><br>        System.out.println(s2);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>原因：int 的高位直接丢弃，只保留低 16 bit。</p><hr><h2 id="9-练习：计算前-N-个自然数的和"><a href="#9-练习：计算前-N-个自然数的和" class="headerlink" title="9. 练习：计算前 N 个自然数的和"></a>9. 练习：计算前 N 个自然数的和</h2><p>公式：</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel"><span class="hljs-built_in">sum</span> = (<span class="hljs-number">1</span> + <span class="hljs-built_in">N</span>) * <span class="hljs-built_in">N</span> / <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 计算前N个自然数的和</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> sum = 1 + 2 + ... + n</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> ???;<br>        System.out.println(sum);<br>        System.out.println(sum == <span class="hljs-number">5050</span> ? <span class="hljs-string">&quot;测试通过&quot;</span> : <span class="hljs-string">&quot;测试失败&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="10-小结"><a href="#10-小结" class="headerlink" title="10. 小结"></a>10. 小结</h2><ul><li>整数运算是 <strong>精确的</strong>，包括除法（但只保留整数部分）。</li><li>运算中不同类型会进行 <strong>自动类型提升</strong>。</li><li>强制转型可能导致 <strong>数据截断或溢出</strong>。</li><li>应选择合适的数据类型（一般用 <code>int</code> 或 <code>long</code>）。</li><li>移位运算可理解为 ×2 或 ÷2 操作。</li><li>多使用括号避免运算优先级问题。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>程序基础</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2025.12.4唠叨</title>
    <link href="/sui-sui-nian/f41cb534.html"/>
    <url>/sui-sui-nian/f41cb534.html</url>
    
    <content type="html"><![CDATA[<h3 id="深夜碎碎念"><a href="#深夜碎碎念" class="headerlink" title="深夜碎碎念"></a>深夜碎碎念</h3><p>现在是首尔时间2:02，刚教完人，嗓子都哑了，打了一晚上游戏，昨天一整天基本上都在睡觉，下周考完试后就寒假了，得找点兼职做做，上周六打球和复健一样，多运动运动吧，不出门真的容易乱想</p>]]></content>
    
    
    <categories>
      
      <category>碎碎念</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>类、对象、属性与方法</title>
    <link href="/java/mian-xiang-dui-xiang-bian-cheng/a960c5c8.html"/>
    <url>/java/mian-xiang-dui-xiang-bian-cheng/a960c5c8.html</url>
    
    <content type="html"><![CDATA[<h1 id="类、对象、属性与方法"><a href="#类、对象、属性与方法" class="headerlink" title="类、对象、属性与方法"></a>类、对象、属性与方法</h1><h2 id="第一部分：类与对象的基本概念"><a href="#第一部分：类与对象的基本概念" class="headerlink" title="第一部分：类与对象的基本概念"></a><strong>第一部分：类与对象的基本概念</strong></h2><h3 id="1-1-类的定义"><a href="#1-1-类的定义" class="headerlink" title="1.1 类的定义"></a>1.1 类的定义</h3><p><strong>类（Class）是面向对象编程的核心概念，可以理解为对象的模板或蓝图</strong>。<br> 它定义了对象有哪些属性（特征）和方法（行为）。</p><p><strong>示例代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-comment">// 属性（成员变量）</span><br>    String name;<br>    <span class="hljs-type">int</span> age;<br>    <br>    <span class="hljs-comment">// 方法（成员方法）</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dress</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;人会穿衣服&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>笔记要点：</strong></p><ol><li>类是抽象的概念，不能直接执行，必须实例化为对象才能使用。</li><li><strong>属性</strong>（字段）描述对象特征，如姓名、年龄。</li><li><strong>方法</strong>描述对象行为，如穿衣、吃饭。</li><li>方法必须写在类中，不能单独存在。</li><li>类可以包含多个属性和方法，属性和方法的组合定义了对象的完整特征。</li></ol><h3 id="1-2-对象的创建与使用"><a href="#1-2-对象的创建与使用" class="headerlink" title="1.2 对象的创建与使用"></a>1.2 对象的创建与使用</h3><p>**对象(Object)**是类的具体实例，是可以操作的实体。<br> 使用 <code>new</code> 关键字创建对象。</p><p><strong>示例代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Exam01Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 创建对象</span><br>        <span class="hljs-type">Exam01</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Exam01</span>();<br>        <br>        <span class="hljs-comment">// 设置属性值</span><br>        p1.name = <span class="hljs-string">&quot;张三&quot;</span>;<br>        p1.age = <span class="hljs-number">18</span>;<br>        p1.gender = <span class="hljs-string">&quot;男&quot;</span>;<br>        <br>        <span class="hljs-comment">// 调用方法</span><br>        p1.study();<br>        System.out.println(<span class="hljs-string">&quot;年龄：&quot;</span> + p1.showAge());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>笔记要点：</strong></p><ul><li>使用 <code>类名 对象名 = new 类名();</code> 创建对象</li><li>使用 <strong>点操作符</strong>访问对象的属性和方法</li><li>每个对象都是类的独立实例，有独立的属性值</li></ul><p><strong>补充说明：</strong></p><ul><li>同一个类可以创建多个对象，每个对象的属性值可以不同</li><li>对象之间互不干扰，除非使用 <code>static</code> 修饰属性或方法</li></ul><h2 id="第二部分：方法的详细讲解"><a href="#第二部分：方法的详细讲解" class="headerlink" title="第二部分：方法的详细讲解"></a><strong>第二部分：方法的详细讲解</strong></h2><h3 id="2-1-无返回值方法"><a href="#2-1-无返回值方法" class="headerlink" title="2.1 无返回值方法"></a>2.1 无返回值方法</h3><p><strong>无返回值方法</strong>使用 <code>void</code> 关键字，不返回任何数据。</p><p><strong>示例代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 无参数无返回值</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dress</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;人会穿衣服&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">// 有参数无返回值</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">(String food)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;人会吃&quot;</span> + food);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">(<span class="hljs-type">int</span> hours)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;人需要睡&quot;</span> + hours + <span class="hljs-string">&quot;个小时&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>要点：</strong></p><ul><li>无返回值方法主要用于执行操作或打印信息</li><li>可以有参数或无参数</li><li>调用方法时直接使用 <code>对象名.方法名(参数)</code></li></ul><h3 id="2-2-有返回值方法"><a href="#2-2-有返回值方法" class="headerlink" title="2.2 有返回值方法"></a>2.2 有返回值方法</h3><p><strong>有返回值方法</strong>需要指定返回类型，并使用 <code>return</code> 返回数据。</p><p><strong>示例代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 无参数有返回值</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">showAge</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> age;<br>&#125;<br><br><span class="hljs-comment">// 有参数有返回值</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">go</span><span class="hljs-params">(String way)</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;今天出行方式是&quot;</span> + way;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>要点：</strong></p><ul><li>返回值类型可以是基本类型或对象类型</li><li>调用方法时应处理返回值，可以赋给变量或直接输出</li></ul><p><strong>补充说明：</strong></p><ul><li>如果方法声明返回类型为 <code>int</code>，必须确保方法体中有 <code>return int值</code></li><li><code>void</code> 方法不能使用 <code>return 值</code>，但可以单独使用 <code>return;</code> 提前结束方法</li></ul><h3 id="2-3-方法调用注意事项"><a href="#2-3-方法调用注意事项" class="headerlink" title="2.3 方法调用注意事项"></a>2.3 方法调用注意事项</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 错误示例</span><br>p1.showAge(); <span class="hljs-comment">// 返回值被忽略</span><br><br><span class="hljs-comment">// 正确示例</span><br><span class="hljs-type">int</span> <span class="hljs-variable">age1</span> <span class="hljs-operator">=</span> p1.showAge(); <span class="hljs-comment">// 保存返回值</span><br>System.out.println(age1);<br></code></pre></td></tr></table></figure><p><strong>要点：</strong></p><ul><li>有返回值方法调用时，<strong>返回值必须被使用</strong></li><li>无返回值方法调用可以直接调用，不需要接收</li></ul><h3 id="2-4-小练习"><a href="#2-4-小练习" class="headerlink" title="2.4 小练习"></a>2.4 小练习</h3><p>请定义一个City类，该class具有如下字段:</p><ul><li>name: 名称，String类型</li><li>latitude: 纬度，double类型</li><li>longitude: 经度，double类型</li></ul><p>实例化几个City并赋值，然后打印。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// City</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">City</span> <span class="hljs-variable">bj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>();<br>        bj.name = <span class="hljs-string">&quot;Beijing&quot;</span>;<br>        bj.latitude = <span class="hljs-number">39.903</span>;<br>        bj.longitude = <span class="hljs-number">116.401</span>;<br>        System.out.println(bj.name);<br>        System.out.println(<span class="hljs-string">&quot;location: &quot;</span> + bj.latitude + <span class="hljs-string">&quot;, &quot;</span> + bj.longitude);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">City</span> &#123;<br>    ???<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="第三部分：完整的类示例"><a href="#第三部分：完整的类示例" class="headerlink" title="第三部分：完整的类示例"></a><strong>第三部分：完整的类示例</strong></h2><h3 id="3-1-Exam01类完整代码"><a href="#3-1-Exam01类完整代码" class="headerlink" title="3.1 Exam01类完整代码"></a>3.1 Exam01类完整代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Exam01</span> &#123;<br>    <span class="hljs-comment">// 属性</span><br>    String name;<br>    <span class="hljs-type">int</span> age;<br>    String gender;<br>    <br>    <span class="hljs-comment">// 方法</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">study</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;studying&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">showAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addAge</span><span class="hljs-params">(<span class="hljs-type">int</span> addAge)</span> &#123;<br>        age += addAge;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-2-方法调用中的常见问题"><a href="#3-2-方法调用中的常见问题" class="headerlink" title="3.2 方法调用中的常见问题"></a>3.2 方法调用中的常见问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">p1.age = <span class="hljs-number">18</span>;<br>p1.addAge(<span class="hljs-number">2</span>);<br>System.out.println(<span class="hljs-string">&quot;age:&quot;</span> + p1.age); <span class="hljs-comment">// 输出：20</span><br><br><span class="hljs-type">int</span> <span class="hljs-variable">age1</span> <span class="hljs-operator">=</span> p1.showAge(); <span class="hljs-comment">// age1 = 18</span><br>p1.addAge(<span class="hljs-number">2</span>);<br>System.out.println(<span class="hljs-string">&quot;age1:&quot;</span> + age1); <span class="hljs-comment">// 输出：18（age1值未变）</span><br></code></pre></td></tr></table></figure><p><strong>分析：</strong></p><ul><li><code>age1</code> 保存的是调用 <code>showAge()</code> 时的 <strong>快照</strong></li><li><code>p1.age</code> 被修改，<code>age1</code> 并不会自动更新</li><li><strong>理解点</strong>：对象的属性是“实时数据”，变量是“独立拷贝”</li></ul><h2 id="第四部分：实践练习"><a href="#第四部分：实践练习" class="headerlink" title="第四部分：实践练习"></a><strong>第四部分：实践练习</strong></h2><h3 id="练习1：创建Person类对象"><a href="#练习1：创建Person类对象" class="headerlink" title="练习1：创建Person类对象"></a>练习1：创建Person类对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>person.name = <span class="hljs-string">&quot;李四&quot;</span>;<br>person.age = <span class="hljs-number">25</span>;<br>person.dress();<br>person.eat(<span class="hljs-string">&quot;米饭&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> person.go(<span class="hljs-string">&quot;步行&quot;</span>);<br>System.out.println(result);<br></code></pre></td></tr></table></figure><p><strong>补充练习思路：</strong></p><ul><li>尝试创建多个对象，设置不同属性</li><li>调用相同方法，观察输出差异</li></ul><h2 id="第五部分：核心知识点总结"><a href="#第五部分：核心知识点总结" class="headerlink" title="第五部分：核心知识点总结"></a><strong>第五部分：核心知识点总结</strong></h2><h3 id="5-1-类与对象关系"><a href="#5-1-类与对象关系" class="headerlink" title="5.1 类与对象关系"></a>5.1 类与对象关系</h3><ul><li>类：对象的蓝图或模板</li><li>对象：类的具体实例</li><li>一个类可以创建多个对象，属性和方法是对象的共同特征</li></ul><hr><h3 id="5-2-方法要点"><a href="#5-2-方法要点" class="headerlink" title="5.2 方法要点"></a>5.2 方法要点</h3><ul><li>方法必须定义在类中</li><li>无返回值方法使用 <code>void</code></li><li>有返回值方法必须使用 <code>return</code></li><li>调用有返回值方法时应<strong>接收或处理返回值</strong></li></ul><hr><h3 id="5-3-编程规范"><a href="#5-3-编程规范" class="headerlink" title="5.3 编程规范"></a>5.3 编程规范</h3><ul><li>类名：大驼峰（<code>Person</code>、<code>Exam01</code>）</li><li>方法名：小驼峰（<code>showAge</code>、<code>addAge</code>）</li><li>属性名：小驼峰（<code>name</code>、<code>age</code>）</li><li>注释清晰，便于维护</li></ul><hr><h3 id="5-4-补充知识点"><a href="#5-4-补充知识点" class="headerlink" title="5.4 补充知识点"></a>5.4 补充知识点</h3><ol><li><strong>面向对象三大特性</strong>（后续学习）<ul><li>封装（Encapsulation）</li><li>继承（Inheritance）</li><li>多态（Polymorphism）</li></ul></li><li><strong>对象引用</strong><ul><li>对象变量保存的是对象地址，多个变量可引用同一个对象</li><li>修改对象属性会影响所有引用该对象的变量</li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>面向对象编程</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2025.12.2唠叨</title>
    <link href="/sui-sui-nian/97cc800e.html"/>
    <url>/sui-sui-nian/97cc800e.html</url>
    
    <content type="html"><![CDATA[<p>捣鼓好了我的小博客，就是还有一些问题需要解决的吧</p>]]></content>
    
    
    <categories>
      
      <category>碎碎念</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
